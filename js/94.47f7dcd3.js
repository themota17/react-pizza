(self["webpackChunkreact_pizza"]=self["webpackChunkreact_pizza"]||[]).push([[94],{2094:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return te}});var i=s(6768);const n=e=>((0,i.Qi)("data-v-70231fd6"),e=e(),(0,i.jt)(),e),a={class:"home"},p={class:"home__top"},o=n((()=>(0,i.Lk)("h1",{class:"home__title"},"Все пиццы",-1))),r={class:"home__pizzas"},c={key:1,class:"home__loading"};function l(e,t,s,n,l,d){const u=(0,i.g2)("pizza-sort-by-type"),z=(0,i.g2)("pizza-sort-by-properties"),h=(0,i.g2)("pizza-card"),v=(0,i.g2)("app-loading");return(0,i.uX)(),(0,i.CE)("main",a,[(0,i.bF)(u,{"pizza-types":e.pizzaTypes},null,8,["pizza-types"]),(0,i.Lk)("div",p,[o,(0,i.bF)(z,{"pizza-sort-properties":e.pizzaSortProperties},null,8,["pizza-sort-properties"])]),(0,i.Lk)("section",r,[d.pizzas.length?((0,i.uX)(!0),(0,i.CE)(i.FK,{key:0},(0,i.pI)(d.sortedPizzas,(e=>((0,i.uX)(),(0,i.Wv)(h,{key:e.id,id:e.id},null,8,["id"])))),128)):((0,i.uX)(),(0,i.CE)("div",c,[(0,i.bF)(v)]))])])}const d=e=>((0,i.Qi)("data-v-2c5b11db"),e=e(),(0,i.jt)(),e),u={class:"app-loading"},z=d((()=>(0,i.Lk)("div",{class:"app-loading__point"},null,-1))),h=[z];function v(e,t){return(0,i.uX)(),(0,i.CE)("div",u,h)}var _=s(1241);const g={},m=(0,_.A)(g,[["render",v],["__scopeId","data-v-2c5b11db"]]);var k=m;function y(e,t,s,n,a,p){const o=(0,i.g2)("app-select");return(0,i.uX)(),(0,i.Wv)(o,{onOptionSelected:p.onOptionSelect,"select-class":"pizza-sort-by-types","current-value-class":"pizza-sort-by-types__current-type","drop-down-class":"pizza-sort-by-types__drop-down","option-class":"pizza-sort-by-types__type",options:s.pizzaTypes},null,8,["onOptionSelected","options"])}var C=s(4232);const f=["onClick"];function b(e,t,s,n,a,p){return(0,i.uX)(),(0,i.CE)("div",{onClick:t[0]||(t[0]=(...e)=>p.toggleDropDown&&p.toggleDropDown(...e)),class:(0,C.C4)(["app-select",s.selectClass])},[(0,i.Lk)("div",{class:(0,C.C4)(["app-select__current-value",s.currentValueClass])},(0,C.v_)(p.currentOptionValue),3),(0,i.Lk)("div",{class:(0,C.C4)(["app-select__drop-down",[e.dropDownActive?"app-select__drop-down_active":"",s.dropDownClass,s.positionAtLeft?"app-select__drop-down_at-left":"app-select__drop-down_at-right"]])},[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(p.optionsWithoutSelected,((e,t)=>((0,i.uX)(),(0,i.CE)("div",{key:t,onClick:t=>p.selectOption(e.name),class:(0,C.C4)(["app-select__option",s.optionClass])},(0,C.v_)(e.value),11,f)))),128))],2)],2)}var S={props:{selectClass:String,currentValueClass:String,dropDownClass:String,optionClass:String,options:{type:Array,default:[]},positionAtLeft:{type:Boolean,default:!1}},emits:["optionSelected"],data:()=>({currentOptionName:"",dropDownActive:!1}),mounted(){this.currentOptionName=this.options[0].name,document.body.addEventListener("click",this.handleOutsideClick.bind(this))},befureUnmount(){document.body.removeEventListener("click",this.handleOutsideClick.bind(this))},methods:{selectOption(e){this.currentOptionName=e,this.$emit("optionSelected",e)},toggleDropDown(){this.dropDownActive=!this.dropDownActive},handleOutsideClick(e){this.dropDownActive&&(this.$el.contains(e.target)||(this.dropDownActive=!1))}},computed:{optionsWithoutSelected(){return this.options.filter((e=>e.name!==this.currentOptionName))},currentOptionValue(){let e=this.options.find((e=>e.name===this.currentOptionName));return e?e.value:""}}};const w=(0,_.A)(S,[["render",b],["__scopeId","data-v-3f5f2ad8"]]);var L=w,O={components:{AppSelect:L},props:{pizzaTypes:{type:Array,default:[]}},methods:{onOptionSelect(e){this.$store.commit("app/changeSelectedType",e)}}};const T=(0,_.A)(O,[["render",y]]);var A=T;const P={class:"pizza-sort-by-properties"},E=(0,i.Lk)("svg",{width:"10",height:"6",viewBox:"0 0 10 6",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,i.Lk)("path",{d:"M10 5C10 5.16927 9.93815 5.31576 9.81445 5.43945C9.69075 5.56315 9.54427 5.625 9.375 5.625H0.625C0.455729 5.625 0.309245 5.56315 0.185547 5.43945C0.061849 5.31576 0 5.16927 0 5C0 4.83073 0.061849 4.68424 0.185547 4.56055L4.56055 0.185547C4.68424 0.061849 4.83073 0 5 0C5.16927 0 5.31576 0.061849 5.43945 0.185547L9.81445 4.56055C9.93815 4.68424 10 4.83073 10 5Z",fill:"#2C2C2C"})],-1),D=(0,i.Lk)("span",null,"Сортировка по:",-1);function X(e,t,s,n,a,p){const o=(0,i.g2)("app-select");return(0,i.uX)(),(0,i.CE)("div",P,[E,D,(0,i.bF)(o,{onOptionSelected:p.onOptionSelect,"current-value-class":"pizza-sort-by-properties__current-property","drop-down-class":"pizza-sort-by-properties__drop-down","option-class":"pizza-sort-by-properties__property",options:s.pizzaSortProperties},null,8,["onOptionSelected","options"])])}var x={components:{AppSelect:L},props:{pizzaSortProperties:{type:Array,default:[]}},methods:{onOptionSelect(e){this.$store.commit("app/changeSelectedSortProperty",e)}}};const B=(0,_.A)(x,[["render",X]]);var I=B;const $=e=>((0,i.Qi)("data-v-c93daa4e"),e=e(),(0,i.jt)(),e),N={class:"pizza-card"},F=["src"],V={class:"pizza-card__name"},j={class:"pizza-card__ui"},H={class:"pizza-card__types"},W=["onClick"],q={class:"pizza-card__sizes"},K=["onClick"],Q={class:"pizza-card__price"},M=$((()=>(0,i.Lk)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,i.Lk)("path",{d:"M10.8 4.8H7.2V1.2C7.2 0.5373 6.6627 0 6 0C5.3373 0 4.8 0.5373 4.8 1.2V4.8H1.2C0.5373 4.8 0 5.3373 0 6C0 6.6627 0.5373 7.2 1.2 7.2H4.8V10.8C4.8 11.4627 5.3373 12 6 12C6.6627 12 7.2 11.4627 7.2 10.8V7.2H10.8C11.4627 7.2 12 6.6627 12 6C12 5.3373 11.4627 4.8 10.8 4.8Z",fill:"white"})],-1))),U={key:0,class:"pizza-card__quantity"};function Z(e,t,n,a,p,o){return(0,i.uX)(),(0,i.CE)("div",N,[(0,i.Lk)("img",{class:"pizza-card__img",src:s(7224)("./"+o.pizza.img),alt:"pizza"},null,8,F),(0,i.Lk)("h3",V,(0,C.v_)(o.pizza.name),1),(0,i.Lk)("div",j,[(0,i.Lk)("div",H,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(Object.keys(o.pizza.thickness),((t,s)=>((0,i.uX)(),(0,i.CE)("div",{key:s,onClick:e=>o.changeTickness(t),class:(0,C.C4)(["pizza-card__select-btn",{"pizza-card__select-btn_active":t===e.selectedThickness}])},(0,C.v_)(e.pizzaThickness[t]),11,W)))),128))]),(0,i.Lk)("div",q,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(Object.keys(o.pizza.sizes),((t,s)=>((0,i.uX)(),(0,i.CE)("div",{key:s,onClick:e=>o.changeSize(Number(t)),class:(0,C.C4)(["pizza-card__select-btn",{"pizza-card__select-btn_active":Number(t)===e.selectedSize}])},(0,C.v_)(t)+" см. ",11,K)))),128))])]),(0,i.Lk)("div",Q,"от "+(0,C.v_)(o.price)+" ₽",1),(0,i.Lk)("button",{class:"pizza-card__add-btn",onClick:t[0]||(t[0]=(...e)=>o.addPizzaToBasket&&o.addPizzaToBasket(...e))},[M,(0,i.eW)(" Добавить "),o.quantityInBasket?((0,i.uX)(),(0,i.CE)("div",U,(0,C.v_)(o.quantityInBasket),1)):(0,i.Q3)("",!0)])])}var G={props:{id:Number},data:()=>({pizzaThickness:{thin:"тонкий",traditional:"традиционный"},selectedThickness:"",selectedSize:0}),mounted(){this.selectedThickness="thin",this.selectedSize=26},methods:{changeTickness(e){this.selectedThickness=e},changeSize(e){this.selectedSize=e},addPizzaToBasket(){this.$store.commit("basket/addPizza",{id:this.pizza.id,thickness:this.selectedThickness,size:this.selectedSize})}},computed:{pizza(){return this.$store.getters["app/getPizzas"].find((e=>e.id===this.id))},price(){const e=this.pizza;return e.price+e.thickness[this.selectedThickness]+e.sizes[this.selectedSize]},quantityInBasket(){const e=this.$store.getters["basket/getBasket"].reduce(((e,t)=>t.id===this.id&&this.selectedThickness===t.thickness&&this.selectedSize===t.size?e+1:e),0);return e}}};const J=(0,_.A)(G,[["render",Z],["__scopeId","data-v-c93daa4e"]]);var R=J,Y={components:{AppLoading:k,PizzaSortByType:A,PizzaSortByProperties:I,PizzaCard:R},data:()=>({pizzaTypes:[{name:"all",value:"Все"},{name:"meet",value:"Мясные"},{name:"vegetarian",value:"Вегетарианские"},{name:"grill",value:"Гриль"},{name:"sharp",value:"Острые"},{name:"closed",value:"Закрытые"}],pizzaSortProperties:[{name:"popularity",value:"популярности"},{name:"price",value:"цене"},{name:"alphabet",value:"алфавиту"}]}),mounted(){this.$store.dispatch("app/fetchPizzas")},computed:{pizzas(){return this.$store.getters["app/getPizzas"]},sortedPizzas(){let e=[...this.pizzas];const t=this.$store.getters["app/getSelectedType"],s=this.$store.getters["app/getSelectedSortProperty"];return"all"!==t&&(e=e.filter((e=>e.types.some((e=>e===t))))),e.sort(((e,t)=>{switch(s){case"popularity":return t.popularity-e.popularity;case"price":return t.price-e.price;case"alphabet":if(t.name>e.name)return-1}}))}}};const ee=(0,_.A)(Y,[["render",l],["__scopeId","data-v-70231fd6"]]);var te=ee},7224:function(e,t,s){var i={"./1.png":1769,"./2.png":5682,"./3.png":6811,"./4.png":6900,"./5.png":9933,"./6.png":8726,"./7.png":1391,"./8.png":6440};function n(e){var t=a(e);return s(t)}function a(e){if(!s.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}n.keys=function(){return Object.keys(i)},n.resolve=a,e.exports=n,n.id=7224},1769:function(e,t,s){"use strict";e.exports=s.p+"img/1.2d810213.png"},5682:function(e,t,s){"use strict";e.exports=s.p+"img/2.5ce34c9b.png"},6811:function(e,t,s){"use strict";e.exports=s.p+"img/3.204d5eb8.png"},6900:function(e,t,s){"use strict";e.exports=s.p+"img/4.a520292e.png"},9933:function(e,t,s){"use strict";e.exports=s.p+"img/5.2d810213.png"},8726:function(e,t,s){"use strict";e.exports=s.p+"img/6.5ce34c9b.png"},1391:function(e,t,s){"use strict";e.exports=s.p+"img/7.204d5eb8.png"},6440:function(e,t,s){"use strict";e.exports=s.p+"img/8.a520292e.png"}}]);
//# sourceMappingURL=94.47f7dcd3.js.map